<div class="container" style="margin-top:70px;">
    <div class="row mt-5">
        <h3 class="text-center text-uppercase p-2">Listado de Categorías</h3>
        <div id="eliminar" role="alert"></div>

        <div style="padding: 10px ;">
            <button class="btn btn-secondary ">
                <a class="nav-link link-light" aria-current="page"    href="/addcat">Nueva Categoría</a>
            </button>
        </div>

        <table class="table text-center">
            <thead>
                <tr class="table-dark">
                    <th scope="col" class="col-4">Nombre</th>
                    <th scope="col">Descripción</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {{#each categorias}}
                <tr>
                    <td>{{this.nombre}}</td>
                    <td>{{this.descripcion}}</td>

                    <td>
                        <div class="">
                            <a href="/editcat/{{this.id}}" class="btn btn-success p-2">
                                <i class="fa-solid fa-pencil"></i>Actualizar
                            </a>

                            <!-- Formulario para eliminar categoría -->
                            <form action="/eleminar/{{this.id}}" method="POST" style="display:inline;">
                                <button type="submit" class="btn btn-danger p-2" id="delete">
                                    <i class="fa-solid fa-trash"></i>Eliminar
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="3">Sin categorías</td>
                </tr>
                {{/each}}
            </tbody>
            <tfoot>
                <tr class="table-dark">
                    <td colspan="5">REGISTRO DE CATEGORÍAS</td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

<script>
    const deletecat=document.querySelector('#delete');
    const eliminar=document.querySelector('#eliminar');
    deletecat.addEventListener('click',()=>{
        eliminar.className='alert alert-danger';
        eliminar.innerHTML='Categoría eliminada con éxito';
        setTimeout(()=>{

         eliminar.className='';
         eliminar.innerHTML='';
          
        },2000);
    });
     

</script>